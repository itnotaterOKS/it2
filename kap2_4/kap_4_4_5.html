<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title> Funksjoner </title>
	<link rel="stylesheet" type="text/css" href="../grid.css">
	<link rel="stylesheet" type="text/css" href="../stil.css">
	</head>
	<body>
	<div class="col-12 row header">
		Kapittel 4
	</div>
	<script type="text/javascript" src="meny2.js"></script>
	<div class="innhold">
		<h1> Lokale/globale variabler </h1>
		<p> Når vi skriver kode med funksjoner må vi kunne forskjellen på lokale og globale variabler. <br>
			En global variabel <i>defineres</i> utenfor funksjonen, og kan brukes både utenfor og inni funksjonen <br>
			En lokal variabel <i>defineres</i> inni funksjonen, og kan kun brukes her. Utenfor funksjonen er den udefinert <br>
			Lokale og globale variabler har hver sine fordeler: <br>
			&nbsp;&nbsp; ved å bruke lokale variabler der de likevel ikke skal brukes utenfor funksjonen "bruker vi ikke opp" funksjonsnavn, og de samme navnene kan brukes uproblematisk lokalt i andre funksjoner også <br>
			&nbsp;&nbsp; ved å bruke globale variabler er vi sikre på at vi kan kalle dem hvor som helst utenfor funksjonen. </p>

		<h1> Eksempel </h1>
		<p> Lokale og globale variabler i tilfeldigtallsfunksjonen <br><br>
			Lokal tilfeldig-variabel gir feilmelding når den brukes globalt: <br>
			&nbsp;&nbsp; function tilfeldigTall(min, max){<br>
			&nbsp;&nbsp;&nbsp;&nbsp; var tilfeldig1= (Math.floor(Math.random()*(max - min + 1)+min));<br>
			&nbsp;&nbsp; } <br>
			&nbsp;&nbsp; tilfeldigTall(2, 10);<br>
			&nbsp;&nbsp; document.write(tilfeldig1);<br><br>

		<script>
			function tilfeldigTall(min, max){
				var tilfeldig1 = (Math.floor(Math.random()*(max - min + 1)+min)); // lager et tilfeldig tall mellom max og min
			}
			tilfeldigTall(2, 10);
			document.write(tilfeldig1+"<br>");
		</script>
		Dette gir feilmeldingen "Uncaught ReferenceError: var tilfeldig1 is not defined at filnavn.html:linjenr" fordi variabelen ikke er definert utenfor funksjonen.<br><br>

		Dersom vi definerer variabelen både globalt og lokalt, vil den ha ulike verdier før, i og etter funksjonen: <br>
		&nbsp;&nbsp; var tilfeldig2 = (Math.floor(Math.random()*(10 - 2 + 1)+2)); <br>
		&nbsp;&nbsp; document.write (tilfeldig2 + ' er verdien før funksjonen'); <br>
		&nbsp;&nbsp; function tilfeldigTall(min, max){<br>
		&nbsp;&nbsp;&nbsp;&nbsp; var tilfeldig2 = (Math.floor(Math.random()*(max - min + 1)+min)); <br>
		&nbsp;&nbsp;&nbsp;&nbsp; document.write (tilfeldig2 + ' er verdien i funksjonen')<br>
		&nbsp;&nbsp; }<br>
		&nbsp;&nbsp; tilfeldigTall(2, 10);<br>
		&nbsp;&nbsp; document.write(tilfeldig2 + ' er verdien etter funksjonen');<br><br>

		<script>
			var tilfeldig2 = (Math.floor(Math.random()*(10 - 2 + 1)+2));
			document.write (tilfeldig2 + ' er verdien før funksjonen <br>');
			function tilfeldigTall(min, max){
				var tilfeldig2 = (Math.floor(Math.random()*(max - min + 1)+min)); // lager et tilfeldig tall mellom max og min
				document.write (tilfeldig2 + ' er verdien i funksjonen <br>')
			}
			tilfeldigTall(2, 10);
			document.write(tilfeldig2 + ' er verdien etter funksjonen <br>');
		</script><br><br>

		Dersom variabelen overskrives i funksjonen blir resultatet annerledes: <br>
		&nbsp;&nbsp; var tilfeldig3 = (Math.floor(Math.random()*(10 - 2 + 1)+2)); <br>
		&nbsp;&nbsp; document.write (tilfeldig3 + ' er verdien før funksjon'); <br>
		&nbsp;&nbsp; function tilfeldigTall(min, max){<br>
		&nbsp;&nbsp;&nbsp;&nbsp; tilfeldig3 = (Math.floor(Math.random()*(max - min + 1)+min)); <br>
		&nbsp;&nbsp;&nbsp;&nbsp; document.write (tilfeldig3 + ' er verdien i funksjonen')<br>
		&nbsp;&nbsp; }<br>
		&nbsp;&nbsp; tilfeldigTall(2, 10);<br>
		&nbsp;&nbsp; document.write(tilfeldig3 + ' er verdien etter funksjonen');</p>

		<script>
			var tilfeldig3 = (Math.floor(Math.random()*(10 - 2 + 1)+2));
			document.write (tilfeldig3 + ' er verdien før funksjonen <br>');
			function tilfeldigTall(min, max){
				tilfeldig3 = (Math.floor(Math.random()*(max - min + 1)+min)); // lager et tilfeldig tall mellom max og min
				document.write(tilfeldig3 + ' er verdien i funksjonen <br>')
			}
			tilfeldigTall(2, 10);
			document.write(tilfeldig3 + ' er verdien etter funksjonen <br>');
		</script>

		<p><b> Moralen er: vær nøye på hvordan du definerer variabler når du bruker funksjoner. Hvis du får en feilmelding om en udefinert variabel, er den sannsynligvis definert lokalt og brukt globalt. Dersom du får en uventet verdi, bruker du den globale verdien til en variabel som både er definert lokalt og globalt. Husk at (manglende) bruk av <i>var</i> bestemmer om en global verdi overskrives eller ikke. Hvis vi blir gode til å bruke funskjoner med returverdier unngår vi mange problemer knyttet til lokale og globale variabler. </b></p>

	<h1> Kommentering av kode </h1>
	<p> Vi husker hvordan vi kan kommenterere kode i html, css og js: <br>
		&nbsp;&nbsp; < !-- Kommentar --> &nbsp;&nbsp;&nbsp;&nbsp; Gir utkommentering i html <br>
		&nbsp;&nbsp; /* kommentar */ &nbsp;&nbsp;&nbsp;&nbsp; Gir utkommentering i css <br>
		&nbsp;&nbsp; /* kommentar */ og // kommentar &nbsp;&nbsp;&nbsp;&nbsp; Gir utkommentering i js <br><br>

		Kommentarer bruker vi av to årsaker: for at kode ikke skal bli lest (f.eks fordi vi skal feilsøke, eller fordi vi har ombestemt oss, men ikke vil slette koden helt) og for å forklare kode. Å kommentere hvordan koden fungerer er, sammen med en ryddig kode med innrykk, et godt grunnlag for at andre brukere kan forstå koden din (eller fremtidige deg kan forstå den om et halvt år). Et eksempel på bruk av kommentarer for å forklare kode er vist under: <br> <br>

		&nbsp;&nbsp;< script ><br>
		&nbsp;&nbsp;&nbsp;&nbsp; /* Koden under viser en funksjon som tar inn et heltall n og skriver ut gangetabellen opp til n*n */<br>
		&nbsp;&nbsp;&nbsp;&nbsp; function gangetabell(n){ // definerer funksjonen, med parameter n<br>
  	&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; document.write('< table >'); // starter html-tabell<br>    	&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; for (var i=1; i<=n; i++){ // ønsker n rader<br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; document.write('< tr >');<br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; for(var j=1; j<=n; j++){ // ønsker n kolonner<br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;document.write('< td >'+i*j+'< /td >'); // fyller hver celle med et produkt<br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; document.write('< /tr >'); <br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br>
    &nbsp;&nbsp;&nbsp;&nbsp; document.write('< /table >');<br>
    &nbsp;&nbsp;&nbsp;&nbsp; }<br>
   	&nbsp;&nbsp;&nbsp;&nbsp; // kaller funksjonen for to ulike verdier av n<br>
    &nbsp;&nbsp;&nbsp;&nbsp; gangetabell(10);<br>
    &nbsp;&nbsp;&nbsp;&nbsp; gangetabell(20);<br>
		&nbsp;&nbsp; < /script ><br>

		<script>
			/* Koden under viser en funksjon som tar inn et heltall n og skriver ut gangetabellen opp til n*n */
			function gangetabell(n){ // definerer funksjonen, med parameter n
    			document.write('<table>'); // starter html-tabell
      			for (var i=1; i<=n; i++){ // ønsker n rader
        			document.write('<tr>');
        			for(var j=1; j<=n; j++){ // ønsker n kolonner
          			document.write('<td>'+i*j+'</td>'); // fyller hver celle med et produkt
        			}
        		document.write('</tr>');
      			}
      			document.write('</table>');
    		}
   			// kaller funksjonen for to ulike verdier av n
    		gangetabell(10);
    		gangetabell(20);
		</script>

		<h1> Oppgaver </h1>
		<p> Side 68: Oppgave 4.14 og 4.15 <br>
			Side 69: Oppgave 4.16 og 4.17 </p>

			<img src="media/oppg68.png" width="70%"><br>
			<img src="media/oppg69.png" width="70%">

		<h2> Oppgave: standardfunksjoner.js </h2>
		<p> Opprett et script standardfunksjoner.js <br>
			Her skal du legge inn funksjoner du kan få bruk for når du koder sånn at du kan kalle funksjonen direkte uten å skrive den hver gang. Du velger selv hvilke funksjoner du legger inn her, og legger inn scriptet hver gang du får bruk for funksjoner herfra (f.eks. i vurderinger). Husk å levere scriptet sammen med oppgaven når du bruker det, og skriv kommentarer slik at både du forstår din egen funksjon og jeg/sensor er overbevist over at det er din kode. <br>
			Forslag til funksjoner (oppdateres i løpet av året, men du må også selv legge til det du ser at du kan få bruk for):<br>
			&nbsp;&nbsp; generere tilfeldig tall: tilfeldig(min, max)<br>
			&nbsp;&nbsp; kaste (6-sidet) terning<br>
			&nbsp;&nbsp; finne alle primtall opp til et tall: primfinner(max)<br>
			&nbsp;&nbsp; tegne opp gangetabell av en gitt størrelse: gangetabell(tall1, tall2)<br>
			&nbsp;&nbsp; finne størrelse på nettleservinduet (denne blir mer akteull fra kapittel 7 og utover)<br>
			&nbsp;&nbsp; generere tilfeldig farge (til f.eks. tegning i canvas, denne blir mer aktuell fra kapittel 7 og utover)<br>
			&nbsp;&nbsp; finne størst og minst tall i en samling av tall (denne blir mer aktuell når vi begynner med arrays)<br>
			&nbsp;&nbsp; sortere array med bubblesort (denne blir mer aktuell når vi begynner med arrays)</p>

			<h2> Oppgave: Zellers algoritme </h2>
			<p> Oppgaveteksten ligger <a href="oppgaver/Zellers algoritme.pdf">her</a>, et løsningsforslag finnes <a href="zellers_algoritme.html">her</a>. Denne oppgaven er ment som en ekstraoppgave for å fortså pseudokode og for å få trening i å jobbe med større funksjoner. </p>
	</div>
	<a href="../index.html"><img class="hjem" src="../hjem.png"></a>
</body>
</html>
